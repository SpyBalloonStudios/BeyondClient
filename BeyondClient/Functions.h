#pragma once
#pragma once

/*{
      "Address": 17175360,
      "Name": "VRC.SDKBase.VRCPlayerApi$$TeleportTo",
      "Signature": "void VRC_SDKBase_VRCPlayerApi__TeleportTo (VRC_SDKBase_VRCPlayerApi_o* __this, UnityEngine_Vector3_o teleportPos, UnityEngine_Quaternion_o teleportRot, const MethodInfo* method);",
      "TypeSignature": "viiii"
    },

     {
      "Address": 17168016,
      "Name": "VRC.SDKBase.VRCPlayerApi$$GetPosition",
      "Signature": "UnityEngine_Vector3_o VRC_SDKBase_VRCPlayerApi__GetPosition (VRC_SDKBase_VRCPlayerApi_o* __this, const MethodInfo* method);",
      "TypeSignature": "iii"
    },

    {
      "Address": 17168176,
      "Name": "VRC.SDKBase.VRCPlayerApi$$GetRotation",
      "Signature": "UnityEngine_Quaternion_o VRC_SDKBase_VRCPlayerApi__GetRotation (VRC_SDKBase_VRCPlayerApi_o* __this, const MethodInfo* method);",
      "TypeSignature": "iii"
    },


     {
      "Address": 18335312,
      "Name": "VRC.Core.APIUser$$IsFriendsWith",
      "Signature": "bool VRC_Core_APIUser__IsFriendsWith (System_String_o* userId, const MethodInfo* method);",
      "TypeSignature": "iii"
    },
    {

     },
    {
      "Address": 8610320,
      "Name": "VRC.Core.APIUser$$get_avatarId",
      "Signature": "System_String_o* VRC_Core_APIUser__get_avatarId (VRC_Core_APIUser_o* __this, const MethodInfo* method);",
      "TypeSignature": "iii"
    },

    {
      "Address": 9989792,
      "Name": "VRC.Core.APIUser$$get_currentAvatarAssetUrl",
      "Signature": "System_String_o* VRC_Core_APIUser__get_currentAvatarAssetUrl (VRC_Core_APIUser_o* __this, const MethodInfo* method);",
      "TypeSignature": "iii"
    },


     {
      "Address": 62916144,
      "Name": "\u00CE\u00CC\u00CE\u00CE\u00CC\u00CD\u00CD\u00CE\u00CF\u00CE\u00CE\u00CC\u00CC\u00CD\u00CC\u00CE\u00CC\u00CF\u00CE\u00CE\u00CD\u00CC\u00CC$$\u00CC\u00CF\u00CE\u00CD\u00CE\u00CD\u00CC\u00CE\u00CF\u00CE\u00CE\u00CD\u00CC\u00CC\u00CF\u00CE\u00CC\u00CD\u00CE\u00CD\u00CD\u00CF\u00CD",
      "Signature": "VRC_Core_ApiAvatar_o* ________________________________________________ (________________________4015_o* __this, const MethodInfo* method);",
      "TypeSignature": "iii"

       {
      "Address": 8741184,
      "Name": "VRC.Core.ApiAvatar$$get_unityPackageUrl",
      "Signature": "System_String_o* VRC_Core_ApiAvatar__get_unityPackageUrl (VRC_Core_ApiAvatar_o* __this, const MethodInfo* method);",
      "TypeSignature": "iii"
    },

    {
      "Address": 37152912,
      "Name": "UnityEngine.Camera$$get_main",
      "Signature": "UnityEngine_Camera_o* UnityEngine_Camera__get_main (const MethodInfo* method);",
      "TypeSignature": "ii"
    },

    }, {
      "Address": 62046064,
      "Name": "UnityEngine.RectTransformUtility$$WorldToScreenPoint",
      "Signature": "UnityEngine_Vector2_o UnityEngine_RectTransformUtility__WorldToScreenPoint (UnityEngine_Camera_o* cam, UnityEngine_Vector3_o worldPoint, const MethodInfo* method);",
      "TypeSignature": "iiii"
    },

    {
      "Address": 33371920,
      "Name": "UnityEngine.Screen$$get_height",
      "Signature": "int32_t UnityEngine_Screen__get_height (const MethodInfo* method);",
      "TypeSignature": "ii"
    },

    // Token: 0x0600019A RID: 410 RVA: 0x000028C8 File Offset: 0x00000AC8
        [Token(Token = "0x600019A")]
        [Address(RVA = "0x236DDD0", Offset = "0x236C9D0", VA = "0x18236DDD0")]
        public Vector3 WorldToScreenPoint(Vector3 position)
        {
            return default(Vector3);
        }
         {
      "Address": 37150160,
      "Name": "UnityEngine.Camera$$WorldToScreenPoint",
      "Signature": "UnityEngine_Vector3_o UnityEngine_Camera__WorldToScreenPoint (UnityEngine_Camera_o* __this, UnityEngine_Vector3_o position, const MethodInfo* method);",
      "TypeSignature": "iiii"
    },
    {
    */

    /* {
          "Address": 17165456,
          "Name": "VRC.SDKBase.VRCPlayerApi$$EnablePickups",
          "Signature": "void VRC_SDKBase_VRCPlayerApi__EnablePickups (VRC_SDKBase_VRCPlayerApi_o* __this, bool enable, const MethodInfo* method);",
          "TypeSignature": "viii"
        },
    */

/*   {
      "Address": 37117120,
      "Name": "UnityEngine.Application$$get_isFocused",
      "Signature": "bool UnityEngine_Application__get_isFocused (const MethodInfo* method);",
      "TypeSignature": "ii"
    },*/

/*

 {
	  "Address": 8251968,
	  "Name": "\u00CF\u00CF\u00CC\u00CD\u00CF\u00CF\u00CF\u00CF\u00CD\u00CC\u00CE\u00CE\u00CC\u00CC\u00CE\u00CD\u00CE\u00CC\u00CF\u00CF\u00CF\u00CD\u00CE.\u00CD\u00CD\u00CC\u00CF\u00CE\u00CF\u00CC\u00CF\u00CC\u00CF\u00CF\u00CD\u00CE\u00CE\u00CC\u00CD\u00CF\u00CE\u00CC\u00CC\u00CF\u00CE\u00CC$$\u00CE\u00CD\u00CC\u00CC\u00CD\u00CF\u00CE\u00CF\u00CF\u00CE\u00CE\u00CF\u00CE\u00CF\u00CC\u00CE\u00CD\u00CF\u00CF\u00CE\u00CE\u00CE\u00CC",
	  "Signature": "Il2CppObject* ________________________________________________________________________ (________________________________________________1517_o* __this, const MethodInfo* method);",
	  "TypeSignature": "iii"
	},

	{
	  "Address": 8249792,
	  "Name": "\u00CE\u00CC\u00CE\u00CC\u00CE\u00CF\u00CF\u00CC\u00CD\u00CE\u00CE\u00CC\u00CC\u00CD\u00CC\u00CD\u00CC\u00CF\u00CE\u00CC\u00CD\u00CC\u00CC$$\u00CE\u00CD\u00CE\u00CF\u00CC\u00CD\u00CD\u00CD\u00CF\u00CD\u00CC\u00CC\u00CF\u00CC\u00CE\u00CD\u00CD\u00CF\u00CF\u00CD\u00CF\u00CD\u00CF",
	  "Signature": "System_String_o* ________________________________________________ (________________________4353_o* __this, const MethodInfo* method);",
	  "TypeSignature": "iii"
	},
*/

std::string Dot;
void DotThread()
{
    while (true)
    {
        Dot = ".  ";
        Sleep(100);
        Dot = ".. ";
        Sleep(100);
        Dot = " ..";
        Sleep(100);
        Dot = "  .";
        Sleep(100);
        Dot = "   ";
        Sleep(100);
        Dot = "  .";
        Sleep(100);
        Dot = " ..";
        Sleep(100);
        Dot = ".. ";
        Sleep(100);
        Dot = ".  ";
        Sleep(100);
        Dot = "   ";
        Sleep(100);
    }
}

std::string GetKeyName(int keyCode) {
    int scanCode = MapVirtualKey(keyCode, MAPVK_VK_TO_VSC);

    char keyName[256];
    if (GetKeyNameTextA(scanCode << 16, keyName, sizeof(keyName)))
        return keyName;

    return "";
}

char* ConvertToIL2Cpp(std::string source)
{
	char target_[256] = "Africa";

	if (source.size() < sizeof(target_)) {  // Ensure the string fits in the target array
		strncpy(target_, source.c_str(), sizeof(target_) - 1);
		target_[sizeof(target_) - 1] = '\0';  // Ensure null-termination
	}
	else {
		std::cout << "Source string is too long!" << std::endl;
	}
	return target_;
}

std::string ToString(char* target) {
	wchar_t* wstrPtr = reinterpret_cast<wchar_t*>(target + 20);
	std::wstring ws(wstrPtr);
	std::wstring_convert<std::codecvt_utf8<wchar_t>, wchar_t> converter;
	return converter.to_bytes(ws);
}

std::string ToString(const char* target) {
	const wchar_t* wstrPtr = reinterpret_cast<const wchar_t*>(target + 20);
	std::wstring ws(wstrPtr);
	std::wstring_convert<std::codecvt_utf8<wchar_t>, wchar_t> converter;
	return converter.to_bytes(ws);
}

void SetClipboard(const std::string& text)
{
	if (OpenClipboard(nullptr))
	{
		EmptyClipboard();
		HGLOBAL hClipboardData = GlobalAlloc(GMEM_DDESHARE, text.size() + 1);
		if (hClipboardData)
		{
			char* pchData = static_cast<char*>(GlobalLock(hClipboardData));
			if (pchData)
			{
				strcpy_s(pchData, text.size() + 1, text.c_str());
				GlobalUnlock(hClipboardData);
				SetClipboardData(CF_TEXT, hClipboardData);
			}
		}
		CloseClipboard();
	}
}

static std::string ToString(LogRaiser category) {
	switch (category) {
	case LogRaiser::Patch:       return "Patches";
	case LogRaiser::Photon:      return "Photon";
	case LogRaiser::PlayerLeave: return "<";
	case LogRaiser::PlayerJoin:  return ">";
	case LogRaiser::Api:         return "API";
	case LogRaiser::Behavior:    return "Behavior";
	case LogRaiser::Local:       return "local";
	case LogRaiser::Safety:      return "Safety";
	case LogRaiser::Risk:        return "Risk";
	case LogRaiser::Debug:       return "Debug";
    case LogRaiser::RPC:       return "RPC";
	default:                     return "Log";
	}
}

static char* ToChar(LogRaiser category) {
	ToChar(category);
}

template<typename TFunc>
void HookFunction(uintptr_t address, TFunc detour, TFunc& original) {
    MH_CreateHook(reinterpret_cast<LPVOID>(address), reinterpret_cast<LPVOID>(detour), reinterpret_cast<void**>(&original));
    MH_EnableHook(reinterpret_cast<LPVOID*>(address));
}
